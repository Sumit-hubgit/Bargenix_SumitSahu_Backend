# Bargenix Backend Service

## Project Overview
The Bargenix Backend Service is designed to manage and generate coupons for products, validate coupon codes, and log all requests for monitoring and auditing purposes. This project is implemented using **Java**, **Spring Boot**, and **Hibernate** with a **MySQL** database for persistent storage.

---

## Features
1. **Coupon Management**:
   - Generate coupons for specific products.
   - Validate existing coupon codes for products.

2. **Logging**:
   - Automatically logs every request made to the application.
   - Maintains details such as request type, timestamps, and additional information.

3. **RESTful APIs**:
   - Exposes endpoints to interact with the coupon and log functionalities.

4. **Database Integration**:
   - Uses MySQL for persistent data storage.

---

## Prerequisites

1. **Software Requirements**:
   - JDK 11 or higher.
   - MySQL Server.
   - Postman (optional for API testing).

2. **Dependencies**:
   - Spring Boot Starter Web.
   - Spring Boot Starter Data JPA.
   - MySQL Connector.
   - Lombok.

---

## Setup Instructions

### Clone the Repository
```bash
git clone <repository-url>
cd Bargenix_Backend
```

### Configure the Database
1. Create a MySQL database:
   ```sql
   CREATE DATABASE bargenix;
   ```

2. Update the `application.properties` file with your database credentials:
   ```properties
   spring.datasource.url=jdbc:mysql://localhost:3306/bargenix
   spring.datasource.username=<your-username>
   spring.datasource.password=<your-password>
   spring.jpa.hibernate.ddl-auto=update
   ```

### Build and Run the Application
1. Build the application using Maven:
   ```bash
   mvn clean install
   ```
2. Run the application:
   ```bash
   mvn spring-boot:run
   ```

---

## API Documentation

### 1. Generate Coupon
**Endpoint**: `POST /api/coupons/generate`

**Description**: Generate a coupon for a specific product.

**Request Parameters**:
- `productId` (Long): The ID of the product.
- `validMinutes` (int): The validity duration of the coupon in minutes.

**Example**:
```http
POST http://localhost:8080/api/coupons/generate?productId=1&validMinutes=30
```

**Response**:
- **200 OK**: `Coupon Code: <code>`
- **400 Bad Request**: Error message.

### 2. Validate Coupon
**Endpoint**: `GET /api/coupons/validate`

**Description**: Validate a coupon for a specific product.

**Request Parameters**:
- `code` (String): The coupon code to validate.
- `productId` (Long): The ID of the product.

**Example**:
```http
GET http://localhost:8080/api/coupons/validate?code=xcvs&productId=1
```

**Response**:
- **200 OK**: `Valid coupon` or `Invalid coupon`.
- **400 Bad Request**: Error message.

### 3. Fetch All Logs
**Endpoint**: `GET /api/logs`

**Description**: Fetch all logs generated by the application.

**Example**:
```http
GET http://localhost:8080/api/logs
```

**Response**:
- **200 OK**: List of logs in JSON format.

---

## Database Schema

### Coupon Table
| Column Name | Type        | Description                 |
|-------------|-------------|-----------------------------|
| id          | BIGINT      | Primary key.                |
| code        | VARCHAR(255)| Unique coupon code.         |
| product_id  | BIGINT      | Associated product ID.      |
| expiration  | DATETIME    | Expiration date and time.   |

### Log Table
| Column Name  | Type         | Description                        |
|--------------|--------------|------------------------------------|
| id           | BIGINT       | Primary key.                      |
| request_type | VARCHAR(50)  | HTTP method (e.g., POST, GET).     |
| details      | TEXT         | Details about the request.         |
| timestamp    | DATETIME     | Timestamp of the request.          |

---

## Future Enhancements
1. Add authentication and authorization for API access.
2. Implement additional filters and sorting for logs.
3. Provide bulk operations for coupon management.

---

## Contributing
Feel free to fork the repository and submit pull requests for improvements. Ensure all contributions are accompanied by relevant tests.

---

## License
This project is licensed under the MIT License. See the LICENSE file for details.

---

## Contact
For any queries or support, please contact:
- **Developer**: Sumit Sahu
- **Email**: sumitsahu7017@gmail.com
- **LinkedIn**: [linkedin.com/sumit]((https://www.linkedin.com/in/sumit-sahu-b53178225/))

